\section{Subobjects}

\begin{definition}[Subobjects]\index{Subobjects}
  A subobject of an object $B$ is a monomorphism $f:A\mono B$.
  \parencite[p.~75]{goldblatt:topoi}
\end{definition}

\begin{definition}[Inclusion of Subobjects]\index{Subobject!Inclusion}
  A subobject $f:A\mono C$ is included in another subobject $g:B\mono C$
  (written $f \subseteq g$) when there is a morphism $h:A\to B$ such that $f=
  g\circ h$ \parencite[p.~76]{goldblatt:topoi}:
  % https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMSwiQyJdLFsxLDAsIkIiXSxbMCwxLCJmIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFsyLDEsImciLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtb25vIn19fV0sWzAsMiwiaCJdXQ==
  \[\begin{tikzcd}[ampersand replacement=\&]
    A \& B \\
    \& C
    \arrow["f"', tail, from=1-1, to=2-2]
    \arrow["g", tail, from=1-2, to=2-2]
    \arrow["h", from=1-1, to=1-2]
  \end{tikzcd}\]
\end{definition}

\begin{theorem}
  For two subobjects $(f:A\mono C)\subseteq (g:B\mono C)$, the arrow $h:A\to B$
  that makes $f= g\circ h$ hold is a subobject of $B$.

  \begin{proof}
    Consider an object $X$ with morphisms $x,y: X \to A$. If $h\circ x = h\circ
    y$ then:
    \[
      \begin{aligned}
        h\circ x &= h\circ y\\
        g\circ h\circ x &= g\circ h\circ y\\
        f\circ x&= f\circ y\\
        x&= y
      \end{aligned}
    \]
  \end{proof}
\end{theorem}

\begin{theorem}
  The inclusion relation on subobjects is reflexive, i.e. for a subobject
  $f:A\mono B$, if follows that $f\subseteq f$.

  \begin{proof}
    \[f = f \circ \id_A\]
  \end{proof}
\end{theorem}

\begin{theorem}
  The inclusion relation on subobjects is transitive, i.e. for subobjects $f\subseteq g$ and $g\subseteq h$ it follows that $f\subseteq h$.

  \begin{proof}
    % https://q.uiver.app/#q=WzAsNCxbMCwyLCJBIl0sWzEsMSwiRCJdLFswLDEsIkIiXSxbMCwwLCJDIl0sWzAsMSwiZiIsMl0sWzIsMSwiZyJdLFswLDIsImkiXSxbMywxLCJoIl0sWzIsMywiaiJdXQ==
    \[\begin{tikzcd}[ampersand replacement=\&]
      C \\
      B \& D \\
      A
      \arrow["f"', from=3-1, to=2-2]
      \arrow["g", from=2-1, to=2-2]
      \arrow["i", from=3-1, to=2-1]
      \arrow["h", from=1-1, to=2-2]
      \arrow["j", from=2-1, to=1-1]
    \end{tikzcd}\]

    The morphisms that factors $f$ through $h$ is $j\circ i$.
  \end{proof}
\end{theorem}

\begin{definition}[Isomorphic Subobjects]\index{Subobject!Isomorphism}\label{def:iso_subobjects}
  Two subobjects $f,g$ are isomorphic $written f\cong g$ when $f\subseteq g$ and
  $g\subseteq f$ \parencite[p.~77]{goldblatt:topoi}.
\end{definition}

\begin{theorem}
  For two subobjects $f:A\to C$ and $g:B\to C$, if $f\cong g$ then $A\cong B$.

  \begin{proof}
    Consider morphisms $i, j$ such that $f=g\circ i$ and $g=f\circ j$, then:
    \[
      \begin{aligned}
        f &= g\circ i\\
        f\circ j &= g \circ i \circ j\\
        g &= g \circ i \circ j\\
        \id_B &= i \circ j
      \end{aligned}
      \qquad
      \begin{aligned}
        g &= f\circ j\\
        g\circ i &= f \circ j \circ i\\
        f &= f \circ j \circ i\\
        \id_A &= j \circ i
      \end{aligned}
    \]
  \end{proof}
\end{theorem}

\begin{proposition}
  Isomorphism of subobjects forms an equivalence relation, i.e. it is reflexive,
  transitive, and symmetric \parencite[p.~77]{goldblatt:topoi}.
\end{proposition}

\begin{definition}[Equivalence Class of Subobjects]\index{Subobject!Equivalence Class}

  For a subobject $f:A\mono B$, its equivalence class is defined as
  \parencite[p.~77]{goldblatt:topoi}:
  \[
    [f] = \{g\ |\ f\cong g\}
  \]
\end{definition}

\begin{definition}[Subobject Collection]\index{Subobject!Collection}
  The collection of subobjects of an object $A$ is defined as
  \parencite[p.~77]{goldblatt:topoi}:
  \[
    \mathrm{Sub}(A) = \{[f]\ |\ \text{$f$ is monic},\ \mathrm{cod}\ f = A\}
  \]
\end{definition}

\begin{proposition}
  For subobjects $f,g$, $f\cong g \iff [f] = [g]$
\end{proposition}

\subsection{Subobject Classifier}
\begin{definition}[Subobject Classifier]\index{Subobject Classifier}
  A subobject classifier $\Omega$ is an object such that for any monic $f:A\mono
  B$ there exists a unique morphism $\chi_f$ such that the following is a
  pullback square for some arrow $\top$ \parencite[p.~84]{goldblatt:topoi}:
  % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiMSJdLFswLDEsIkIiXSxbMSwxLCJcXE9tZWdhIl0sWzEsMywiXFxtYXRocm17XFx0b3B9IiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFswLDEsIiEiXSxbMCwyLCJmIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFsyLDMsIlxcY2hpX2YiLDJdLFswLDMsIiIsMSx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dXQ==
  \[\begin{tikzcd}[ampersand replacement=\&]
    A \& 1 \\
    B \& \Omega
    \arrow["{\mathrm{\top}}", tail, from=1-2, to=2-2]
    \arrow["{!}", from=1-1, to=1-2]
    \arrow["f"', tail, from=1-1, to=2-1]
    \arrow["{\chi_f}"', from=2-1, to=2-2]
    \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
  \end{tikzcd}\]
\end{definition}

\begin{remark}\index{Characteristic Arrow}
  The morphism $\chi_f$ is called the characteristic arrow of the monomorphism
  $f$.
\end{remark}

\begin{proposition}
  The subobject classifier (if it exists) in a category is unique up to
  isomorphism.
\end{proposition}

\begin{definition}[Power Objects]\index{Topos!Power Objects}
  Since arrows $A\to \Omega$ classify subobjects of $A$, the exponential
  $\Omega^A$ is the object of subobjects of $A$ (or its power object). It is
  then possible to construct the subobject $\in_a: \in_A\to \Omega^A\times A$
  such that \parencite[p.~124]{mclarty:elementary}:
  % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXGluX0EiXSxbMSwwLCIxIl0sWzEsMSwiXFxPbWVnYSJdLFswLDEsIlxcT21lZ2FeQVxcdGltZXMgQSJdLFsxLDIsIlxcdG9wIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFswLDEsIiEiXSxbMywyLCJcXG1hdGhybXtldmFsfV97XFxPbWVnYV5BfSIsMl0sWzAsMywiXFxpbl9hIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFswLDIsIiIsMSx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dXQ==
  \[\begin{tikzcd}[ampersand replacement=\&]
    {\in_A} \& 1 \\
    {\Omega^A\times A} \& \Omega
    \arrow["\top", tail, from=1-2, to=2-2]
    \arrow["{!}", from=1-1, to=1-2]
    \arrow["{\mathrm{eval}_{\Omega^A}}"', from=2-1, to=2-2]
    \arrow["{\in_a}"', tail, from=1-1, to=2-1]
    \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
  \end{tikzcd}\]
\end{definition}

\begin{theorem}
  For an element $x:1\mono A$ and a subobject $b: B\mono A$, $x\subseteq b \iff
  \<\ulcorner \chi_b\urcorner, x\> \subseteq \in_A$ (or $x\in_A b$).

  \begin{proof}
    Let $x\subseteq b$, so that:
    % https://q.uiver.app/#q=WzAsNixbMSwxLCIxIl0sWzMsMCwiMSJdLFszLDEsIlxcT21lZ2EiXSxbMiwwLCJCIl0sWzIsMSwiQSJdLFswLDEsIlxcT21lZ2FeQSJdLFs0LDIsIlxcY2hpX2IiLDJdLFszLDQsImIiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtb25vIn19fV0sWzMsMSwiISJdLFsxLDIsIlxcdG9wIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFswLDMsIiIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFswLDQsIngiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtb25vIn19fV0sWzAsNSwiXFxuYW1le1xcY2hpX2J9IiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibW9ubyJ9fX1dLFszLDIsIiIsMCx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dXQ==&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb08e21d744ff9df9903ede35f3944ad2f54020e7%2Fmacros.tex
    \[\begin{tikzcd}[ampersand replacement=\&]
      \&\& B \& 1 \\
      {\Omega^A} \& 1 \& A \& \Omega
      \arrow["{\chi_b}"', from=2-3, to=2-4]
      \arrow["b"', tail, from=1-3, to=2-3]
      \arrow["{!}", from=1-3, to=1-4]
      \arrow["\top", tail, from=1-4, to=2-4]
      \arrow[dotted, from=2-2, to=1-3]
      \arrow["x"', tail, from=2-2, to=2-3]
      \arrow["{\name{\chi_b}}", tail, from=2-2, to=2-1]
      \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-3, to=2-4]
    \end{tikzcd}\]

    Construct then the arrow $\<\name{\chi_b},x \>:1\to \Omega^A\times A$ such
    that $\mathrm{eval}_{\Omega^A}\circ\<\name{\chi_b},x\>=\chi_b\circ x$ with
    is equal to $\top$. Finally, by the universal property of the pullback,
    there exists a unique arrow such that
    $\mathrm{eval}_{\Omega^A}\circ\<\name{\chi_b},x\> \subseteq \in_A$:
    % https://q.uiver.app/#q=WzAsNSxbMSwyLCJcXE9tZWdhXkFcXHRpbWVzIEEiXSxbMSwxLCJcXGluX0EiXSxbMiwyLCJcXE9tZWdhIl0sWzIsMSwiMSJdLFswLDAsIjEiXSxbMCwyLCJlX3tcXE9tZWdhXkF9IiwyXSxbMywyLCJcXHRvcCIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1vbm8ifX19XSxbMSwwLCJcXGluX2EiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtb25vIn19fV0sWzEsMywiISJdLFsxLDIsIiIsMSx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dLFs0LDMsIlxcaWRfMSIsMCx7ImN1cnZlIjotMn1dLFs0LDAsIlxcbGFuZ2xlIFxcdWxjb3JuZXIgXFxjaGlfYlxcdXJjb3JuZXIseFxccmFuZ2xlIiwyLHsiY3VydmUiOjIsInN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1vbm8ifX19XSxbNCwxLCIiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
    \[\begin{tikzcd}[ampersand replacement=\&]
      1 \\
      \& {\in_A} \& 1 \\
      \& {\Omega^A\times A} \& \Omega
      \arrow["{e_{\Omega^A}}"', from=3-2, to=3-3]
      \arrow["\top", tail, from=2-3, to=3-3]
      \arrow["{\in_a}"', tail, from=2-2, to=3-2]
      \arrow["{!}", from=2-2, to=2-3]
      \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
      \arrow["{\id_1}", curve={height=-12pt}, from=1-1, to=2-3]
      \arrow["{\langle \ulcorner \chi_b\urcorner,x\rangle}"', curve={height=12pt}, tail, from=1-1, to=3-2]
      \arrow[dashed, from=1-1, to=2-2]
    \end{tikzcd}\]

    Simmilarly, starting with $x\in_A b$ and using the universal property of pullbacks one can obtain a unique arrow such that $x\in b$.
  \end{proof}
\end{theorem}