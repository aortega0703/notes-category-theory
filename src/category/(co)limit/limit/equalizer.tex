\subsection{Equalizer}

\begin{definition}[Equalizer]\index{Equalizer}
  An equalizer is the limit of a
  diagram~\parencite[p.~112]{leinster:basic_category_theory}:
  % https://q.uiver.app/#q=WzAsMixbMCwwLCJYIl0sWzEsMCwiWSJdLFswLDEsImYiLDAseyJvZmZzZXQiOi0xfV0sWzAsMSwiZyIsMix7Im9mZnNldCI6MX1dXQ==
  \[\begin{tikzcd}[ampersand replacement=\&]
    X \& Y
    \arrow["f", shift left=1, from=1-1, to=1-2]
    \arrow["g"', shift right=1, from=1-1, to=1-2]
  \end{tikzcd}\]
\end{definition}

\begin{remark}
  An equalizer of objects $A, B$ and morphisms $f, g: A\to B$ is composed by an
  object $E$ together with a morphism $i:E\to A$.
\end{remark}

\begin{theorem}\label{thm:equalizer_mono}
  Every equalizer morphism is a monomorphism.

  \begin{proof}
    Consider objects $A, B$ and morphisms $f, g: A\to B$ with their respective
    equalizer $\<E, i\>$. Now consider an object $X$ with morphisms $x_0, x_1: X
    \to E$ such that $i\circ x_0 = i\circ x_1$, then:
    \[
      \begin{aligned}
        f \circ i \circ x_0
        &= f \circ i \circ x_1\\
        &= g \circ i \circ x_1
      \end{aligned}
    \]

    Finally by the universal property of equalizers $i\circ x_0$ (and $i\circ
    x_1$) must be uniquely factorized as $i\circ k$ for some $k$. As this
    factorization is unique, it must be the case that $x_0 = x_1 = k$.
  \end{proof}
\end{theorem}

\begin{theorem}
  Every epic equalizer is an isomorphism.

  \begin{proof}
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJFIl0sWzEsMCwiQSJdLFsyLDAsIkIiXSxbMSwxLCJBIl0sWzEsMiwiZiIsMCx7Im9mZnNldCI6LTF9XSxbMSwyLCJnIiwyLHsib2Zmc2V0IjoxfV0sWzMsMSwiXFxpZF9BIiwyXSxbMywwLCJrIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMSwiaSJdXQ==&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
    \[\begin{tikzcd}[ampersand replacement=\&]
      E \& A \& B \\
      \& A
      \arrow["f", shift left=1, from=1-2, to=1-3]
      \arrow["g"', shift right=1, from=1-2, to=1-3]
      \arrow["{\id_A}"', from=2-2, to=1-2]
      \arrow["k", dashed, from=2-2, to=1-1]
      \arrow["i", from=1-1, to=1-2]
    \end{tikzcd}\]

    Consider an epic equalizer $i:E\to A$, then as $f\circ i = g\circ i$ it
    follows that $f= g$. Therefore $f\circ \id_A = g \circ \id_A$ which by the
    universal property of equalizers implies the existance of a unique morphism
    $k:A\to E$ such that $i\circ k = \id_A$. Then by Theorem
    \ref{thm:equalizer_mono}:
    \[
      \begin{aligned}
        i\circ k &= \id_A\\
        i\circ k \circ i &= i\\
        k\circ i = \id_E
      \end{aligned}
    \]
  \end{proof}
\end{theorem}