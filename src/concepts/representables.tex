\section{Representables and Yoneda Lemma}

\subsection{Representables}

\begin{definition}[Representable Functor\index{Representable Functor}\label{def:representable}]
  A presheaf $F: \C^\op\to \Set$ is representable if for some $c\in\C$ there
  exists a natural isomorphism, $F \cong \C(\hole, c)$. A representation of $F$
  consists of such an object $c$ and said isomorphism.
  \parencite{leinster:basic_category_theory}
\end{definition}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Definition
  \ref{def:representable} can be restated for covariant functors $F:\C\to\Set$ as the natural isomorphism $F\cong \C(c, \hole)$.
\end{remark}

\subsection{Yoneda Lemma}

\begin{definition}[Yoneda Embedding\index{Yoneda
  Embedding}]\label{def:yoneda_embedding}

  For a locally small category $\C$, the Yoneda embedding $\yo_\C:\C \to
  \Set^{(\C^\op)}$ is defined as maps of:
  \parencite{leinster:basic_category_theory}
  \begin{itemize}
    \item Objects:
      \[\big(\forall d\in \C_0\big)
        \big(\yo_\C(d) = \C(\hole, d) \big)\]
    \item Morphisms:
      \[\big(\forall h\in \C_1\big)
        \big(\yo_\C(h) = \C(\hole, h) \big)\]
  \end{itemize}
\end{definition}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Definition
  \ref{def:yoneda_embedding} can be equaly stated as $\yo_{\C^\op}: \C^\op \to\Set^\C$ as maps of:
  \begin{itemize}
    \item Objects:
      \[\big(\forall c\in \C_0\big)
        \big(\yo_{\C^\op}(c) = \C(c, \hole)\big)\]
    \item Morphisms:
      \[\big(\forall g\in \C_1\big)
        \big(\yo_{\C^\op}(g) = \C(g, \hole)\big)\]
  \end{itemize}
\end{remark}

\begin{theorem}[Yoneda Lemma\index{Yoneda Lemma}\label{thm:yoneda_lemma}]
  For a presheaf $F: \D^\op \to \Set$ on $\D$ and an object $d\in \D_0$, there
  exists a natural isomorphism:
  \[\Set^{(\D^\op)}(\yo_\D(d), F) \cong F(d)\]

  \begin{proof}
    Consider the functions:
    \[
      \begin{aligned}
        \phi_{d, F}: \Set^{(\D^\op)}(\yo_\D(d), F) &\to F(d)\\
        \alpha &\mapsto \alpha_d(\id_d)
      \end{aligned}
      \qquad
      \begin{aligned}
        \psi_{d, F}: F(d) &\to \Set^{(\D^\op)}(\yo_\D(d), F)\\
        x &\mapsto \psi(x)
      \end{aligned}
    \]

    Such that for $f:c\to d$:
    \[(\psi_{d, F}(x)_{c})(f) = (F(f))(x)\]

    To prove naturality of $\psi_{d, F}(x)$, consider a morphism $g:c'\to c$:
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXEQoYyxkKSJdLFsxLDAsIkYoYykiXSxbMCwxLCJcXEQoYycsZCkiXSxbMSwxLCJGKGMnKSJdLFswLDEsIlxccHNpX3tkLCBGfSh4KV9jIl0sWzIsMywiXFxwc2lfe2QsRn0oeClfe2MnfSIsMl0sWzAsMiwiXFxEKGcsZCkiLDJdLFsxLDMsIkYoZykiXV0=&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2Faortega0703%2Fnotes-category-theory%2Fmain%2Fsrc%2Fmacros.tex
    \[\begin{tikzcd}[ampersand replacement=\&]
      {\D(c,d)} \& {F(c)} \\
      {\D(c',d)} \& {F(c')}
      \arrow["{\psi_{d, F}(x)_c}", from=1-1, to=1-2]
      \arrow["{\psi_{d,F}(x)_{c'}}"', from=2-1, to=2-2]
      \arrow["{\D(g,d)}"', from=1-1, to=2-1]
      \arrow["{F(g)}", from=1-2, to=2-2]
    \end{tikzcd}\qquad\begin{aligned}
        &(F(g)\circ \psi_{d, F}(x)_c)(f)\\
        =& F(g)(F(f)(x))\\
        =& F(f\circ g)(x)\\
        =& \psi_{d, F}(x)_{c'}(f\circ g)
      \end{aligned}
    \]
    Then, consider composition in both ways:
    \[
      \begin{aligned}
        &(\phi \circ \psi)_{d, F}(x)\\
        =& \psi_{d, F}(x)_{d}(\id_d)\\
        =& F(\id_d)(x)\\
        =& \id_{F(d)}(x)\\
        =& x
      \end{aligned}
      \qquad\qquad\qquad
      \begin{aligned}
        &\big((\psi \circ \phi)_{d, F}(\alpha)\big)_c(f)\\
        =& \psi_{d, F} (\alpha_d(\id_d))_c(f)\\
        =& F(f)(\alpha_d(\id_d))\\
        =& \alpha_c(\D(f, d)(\id_d))\\
        =& \alpha_c(f)
      \end{aligned}
    \]
    This proves that $\phi_{d, F}$ and $\psi_{d, F}$ form an isomorphism. By
    Theorem \ref{thm:binaturality} to prove that such isomorphism is natural on
    both $d$ and $F$ it suffices to show that it is so on each separately. Let
    $f: d' \to d$ and $\beta: F \to G$, then:
    \[
      \begin{gathered}
        % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFNldF57KFxcRF5cXG9wKX0oXFx5b19cXEQoZCksIEYpIl0sWzEsMCwiRihkKSJdLFswLDEsIlxcU2V0XnsoXFxEXlxcb3ApfShcXHlvX1xcRChkKSwgRykiXSxbMSwxLCJHKGQpIl0sWzAsMSwiXFxwaGlfe2QsIEZ9Il0sWzAsMiwiXFxTZXReeyhcXEReXFxvcCl9KFxceW9fXFxEKGQpLCBcXGJldGEpIiwyXSxbMiwzLCJcXHBoaV97ZCwgRn0iLDJdLFsxLDMsIlxcYmV0YV9kIl1d&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
        \begin{tikzcd}[ampersand replacement=\&]
          {\Set^{(\D^\op)}(\yo_\D(d), F)} \& {F(d)} \\
          {\Set^{(\D^\op)}(\yo_\D(d), G)} \& {G(d)}
          \arrow["{\phi_{d, F}}", from=1-1, to=1-2]
          \arrow["{\Set^{(\D^\op)}(\yo_\D(d), \beta)}"', from=1-1, to=2-1]
          \arrow["{\phi_{d, F}}"', from=2-1, to=2-2]
          \arrow["{\beta_d}", from=1-2, to=2-2]
        \end{tikzcd}\\\\\\\\
        % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFNldF57KFxcRF5cXG9wKX0oXFx5b19cXEQoZCksIEYpIl0sWzEsMCwiRihkKSJdLFswLDEsIlxcU2V0XnsoXFxEXlxcb3ApfShcXHlvX1xcRChkJyksIEYpIl0sWzEsMSwiRihkJykiXSxbMCwxLCJcXHBoaV97ZCwgRn0iXSxbMCwyLCJcXFNldF57KFxcRF5cXG9wKX0oXFx5b19cXEQoZiksIEYpIiwyXSxbMiwzLCJcXHBoaV97ZCwgRn0iLDJdLFsxLDMsIkYoZikiXV0=&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
        \begin{tikzcd}[ampersand replacement=\&]
          {\Set^{(\D^\op)}(\yo_\D(d), F)} \& {F(d)} \\
          {\Set^{(\D^\op)}(\yo_\D(d'), F)} \& {F(d')}
          \arrow["{\phi_{d, F}}", from=1-1, to=1-2]
          \arrow["{\Set^{(\D^\op)}(\yo_\D(f), F)}"', from=1-1, to=2-1]
          \arrow["{\phi_{d, F}}"', from=2-1, to=2-2]
          \arrow["{F(f)}", from=1-2, to=2-2]
        \end{tikzcd}
      \end{gathered}
      \quad
      \begin{aligned}
        &(\beta_d \circ \phi_{d, F})(\alpha)\\
        =& \beta_d (\alpha_d (\id_d))\\
        =& (\beta \circ \alpha)_d (\id_d)\\
        =& \phi_{d, F}(\beta \circ \alpha)\\
        =& \phi_{d, F}(\Set^{\C^\op}(\yo_\D(d), \beta)(\alpha))\\
        =& (\phi_{d, F} \circ \Set^{\C^\op}(\yo_\D(d), \beta)) (\alpha)\\
        %
        \\
        &(F(f)\circ \phi_{d, F}) (\alpha)\\
        =& F(f)(\alpha_d (\id_d))\\
        =& \alpha_{d'}(f)\\
        =& \alpha_{d'}(\yo_\D(f)_{d'}(\id_{d'}))\\
        =& \phi_{d, F}(\alpha \circ \yo_\D(f))\\
        =& \phi_{d, F}(\Set^{\C^\op}(\yo_\D(f), F)(\alpha))
      \end{aligned}
    \]
  \end{proof}
\end{theorem}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Theorem
  \ref{thm:yoneda_lemma} can be equally stated for a functor $F:\C \to \Set$ and
  an object $c\in\C_0$ as the natural isomorphism:
  \[\Set^{\C}(\yo_{\C^\op}(c), F) \cong F(c)\]
\end{remark}

\begin{theorem}[$\yo$ is Full and Faithful]
  For any category $\C$, the Yoneda embedding $\yo_C: \C \to \Set^{(\C^\op)}$ is
  both full and faithful. That is, for every $f: c\to d$ the following is a
  bijection:
  \[
    \begin{aligned}
      \yo_\C: \C(c, d) &\to \Set^{(\C^\op)}(\yo_\C(c), \yo_\C(d))\\
      f &\mapsto \yo_\C(f)
    \end{aligned}
  \]

  \begin{proof}
    First, consider:
    \[
      \begin{aligned}
        \phi(\yo_\C(f))
        &= (\yo_\C(f))_c(\id_c)\\
        &= \C(c, f) (\id_c)\\
        &= f \circ \id_c\\
        &= f
      \end{aligned}
    \]

    Now, as $\phi(\yo_\C(f)) = f$, then $\yo_\C(f) = \psi(f)$. Finally, by
    Theorem \ref{thm:yoneda_lemma} on $c\in\C_0$ and $\yo_\C(d)$, the following
    is a bijection:
    \[\psi: \C(c,d) \overset{\cong}{\to} \Set^{(\C^\op)}(\yo_\C(c), \yo_\C(d))\]
  \end{proof}
\end{theorem}