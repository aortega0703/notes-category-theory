\section{Representables and Yoneda Lemma}

\subsection{Representables}

\begin{definition}[Presheaf\index{Presheaf}]
  A functor $\C^\op \to \Set$ is a presheaf on $\C$.
  \parencite{leinster:basic_category_theory}
\end{definition}

\begin{definition}[Representable Functor\index{Representable Functor}\label{def:representable}]
  A presheaf $F: \C^\op\to \Set$ is representable if for some $c\in\C$ there
  exists a natural isomorphism, $F \cong \C(\hole, c)$. A representation of $F$
  consists of such an object $c$ and said isomorphism.
  \parencite{leinster:basic_category_theory}
\end{definition}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Definition
  \ref{def:representable} can be restated for covariant functors $F:\C\to\Set$ as the natural isomorphism $F\cong \C(c, \hole)$.
\end{remark}

\subsection{Yoneda Lemma}

\begin{definition}[Yoneda Embedding\index{Yoneda
  Embedding}]\label{def:yoneda_embedding}

  For a locally small category $\C$, the Yoneda embedding $\yo_\C:\C \to
  \Set^{(\C^\op)}$ is defined as maps of:
  \parencite{leinster:basic_category_theory}
  \begin{itemize}
    \item Objects:
      \[\big(\forall d\in \C_0\big)
        \big(\yo_\C(d) = \C(\hole, d) \big)\]
    \item Morphisms:
      \[\big(\forall h\in \C_1\big)
        \big(\yo_\C(h) = \C(\hole, h) \big)\]
  \end{itemize}
\end{definition}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Definition
  \ref{def:yoneda_embedding} can be equaly stated as $\yo_{\C^\op}: \C^\op \to\Set^\C$ as maps of:
  \begin{itemize}
    \item Objects:
      \[\big(\forall c\in \C_0\big)
        \big(\yo_{\C^\op}(c) = \C(c, \hole)\big)\]
    \item Morphisms:
      \[\big(\forall g\in \C_1\big)
        \big(\yo_{\C^\op}(g) = \C(g, \hole)\big)\]
  \end{itemize}
\end{remark}

\begin{theorem}[Yoneda Lemma\index{Yoneda Lemma}\label{thm:yoneda_lemma}]
  For a presheaf $F: \D^\op \to \Set$ on $\D$ and an object $d\in \D_0$, there
  exists a natural isomorphism:
  \[\Set^{(\D^\op)}(\yo_\D(d), F) \cong F(d)\]

  \begin{proof}
    Consider the functions:
    \[
      \begin{aligned}
        \phi: \Set^{(\D^\op)}(\yo_\D(d), F) &\to F(d)\\
        \alpha &\mapsto \alpha_d(\id_d)
      \end{aligned}
      \qquad
      \begin{aligned}
        \psi: F(d) &\to \Set^{(\D^\op)}(\yo_\D(d), F)\\
        x &\mapsto \psi(x)
      \end{aligned}
    \]

    Such that for $f:c\to d$:
    \[(\psi(x)_{c})(f) = (F(f))(x)\]

    To prove naturality of $\psi(x)$, consider a morphism $g:c'\to c$:
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXEQoYyxkKSJdLFsxLDAsIkYoYykiXSxbMCwxLCJcXEQoYycsZCkiXSxbMSwxLCJGKGMnKSJdLFswLDEsIlxccHNpKHgpX2MiXSxbMiwzLCJcXHBzaSh4KV97Yyd9IiwyXSxbMCwyLCJcXEQoZyxkKSIsMl0sWzEsMywiRihnKSJdXQ==&macro_url=https%3A%2F%2Fraw.githubusercontent.com%2Faortega0703%2Fnotes-category-theory%2Fmain%2Fsrc%2Fmacros.tex
    \[\begin{tikzcd}[ampersand replacement=\&]
      {\D(c,d)} \& {F(c)} \\
      {\D(c',d)} \& {F(c')}
      \arrow["{\psi(x)_c}", from=1-1, to=1-2]
      \arrow["{\psi(x)_{c'}}"', from=2-1, to=2-2]
      \arrow["{\D(g,d)}"', from=1-1, to=2-1]
      \arrow["{F(g)}", from=1-2, to=2-2]
    \end{tikzcd}\]
    \[
      \begin{aligned}
        (F(g)\circ \psi(x)_c)(f)
        &= F(g)(F(f)(x))\\
        &= F(f\circ g)(x)\\
        &= \psi(x)_{c'}(f\circ g)
      \end{aligned}
    \]
    Then, consider composition in both ways:
    \[
      \begin{aligned}
        (\phi \circ \psi)(x)
        &= \psi(x)_{d}(\id_d)\\
        &= F(\id_d)(x)\\
        &= \id_{F(d)}(x)\\
        &= x
      \end{aligned}
      \qquad
      \begin{aligned}
        \big((\psi \circ \phi)(\alpha)\big)_c(f)
        &= \psi (\alpha_d(\id_d))_c(f)\\
        &= F(f)(\alpha_d(\id_d))\\
        &= \alpha_c(\D(f, d)(\id_d))\\
        &= \alpha_c(f)
      \end{aligned}
    \]
    This proves that $\phi$ and $\psi$ form an isomorphism. By Theorem
    \ref{thm:binaturality} to prove that such isomorphism is natural on both $d$
    and $F$ it suffices to show that it is so on each separately. Let $f: d' \to
    d$ and $\beta: F \to G$, then:
    \[
      \begin{gathered}
        \\
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXFNldF57XFxDXlxcb3B9KFxceW9fXFxEKGQpLCBGKSJdLFsxLDAsIkYoZCkiXSxbMCwxLCJcXFNldF57XFxDXlxcb3B9KFxceW9fXFxEKGQpLCBHKSJdLFsxLDEsIkcoZCkiXSxbMCwxLCJcXHBoaSJdLFswLDIsIlxcU2V0XntcXENeXFxvcH0oXFx5b19cXEQoZCksIFxcYmV0YSkiLDJdLFsyLDMsIlxccGhpIiwyXSxbMSwzLCJcXGJldGFfZCJdXQ==&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
        \begin{tikzcd}[ampersand replacement=\&,column sep=small]
          {\Set^{\C^\op}(\yo_\D(d), F)} \& {F(d)} \\
          {\Set^{\C^\op}(\yo_\D(d), G)} \& {G(d)}
          \arrow["\phi", from=1-1, to=1-2]
          \arrow["{\Set^{\C^\op}(\yo_\D(d), \beta)}"', from=1-1, to=2-1]
          \arrow["\phi"', from=2-1, to=2-2]
          \arrow["{\beta_d}", from=1-2, to=2-2]
        \end{tikzcd}\\
        \\
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXFNldF57XFxDXlxcb3B9KFxceW9fXFxEKGQpLCBGKSJdLFsxLDAsIkYoZCkiXSxbMCwxLCJcXFNldF57XFxDXlxcb3B9KFxceW9fXFxEKGQnKSwgRikiXSxbMSwxLCJGKGQnKSJdLFswLDEsIlxccGhpIl0sWzAsMiwiXFxTZXRee1xcQ15cXG9wfShcXHlvX1xcRChmKSwgRikiLDJdLFsyLDMsIlxccGhpIiwyXSxbMSwzLCJGKGYpIl1d&macro_url=https%3A%2F%2Fgist.githubusercontent.com%2Faortega0703%2Fa1fd97cb097b8142e63a6fbf0cdb0f76%2Fraw%2Fb46a955b6b1f06908105b870088e59a10049fc60%2Fmacros.tex
        \begin{tikzcd}[ampersand replacement=\&,column sep=small]
          {\Set^{\C^\op}(\yo_\D(d), F)} \& {F(d)} \\
          {\Set^{\C^\op}(\yo_\D(d'), F)} \& {F(d')}
          \arrow["\phi", from=1-1, to=1-2]
          \arrow["{\Set^{\C^\op}(\yo_\D(f), F)}"', from=1-1, to=2-1]
          \arrow["\phi"', from=2-1, to=2-2]
          \arrow["{F(f)}", from=1-2, to=2-2]
        \end{tikzcd}
      \end{gathered}
      \hspace{-10pt}
      \begin{aligned}
        (\beta_d \circ \phi)(\alpha)
        &= \beta_d (\alpha_d (\id_d))\\
        &= (\beta \circ \alpha)_d (\id_d)\\
        &= \phi(\beta \circ \alpha)\\
        &= \phi(\Set^{\C^\op}(\yo_\D(d), \beta)(\alpha))\\
        &= (\phi \circ \Set^{\C^\op}(\yo_\D(d), \beta)) (\alpha)\\
        (F(f)\circ \phi) (\alpha)
        &= F(f)(\alpha_d (\id_d))\\
        &= \alpha_{d'}(f)\\
        &= \alpha_{d'}(\yo_\D(f)_{d'}(\id_{d'}))\\
        &= \phi(\alpha \circ \yo_\D(f))\\
        &= \phi(\Set^{\C^\op}(\yo_\D(f), F)(\alpha))
      \end{aligned}
    \]
  \end{proof}
\end{theorem}

\begin{remark}
  Note that in line with Remark \ref{rmk:op_hom_functor}, Theorem
  \ref{thm:yoneda_lemma} can be equally stated for a functor $F:\C \to \Set$ and an object $c\in\C_0$ as the natural isomorphism:
  \[\Set^{\C}(\yo_{\C^\op}(c), F) \cong F(c)\]
\end{remark}